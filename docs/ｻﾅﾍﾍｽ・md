# 仕様書

## 🏥 メンタルクリニック待合室向け表示システム仕様書

### 概要
- 本システムは、クリニックの待合室にてループ動画を背景に、メンタルヘルスTIPSや診察順、リアルタイムメッセージを表示するWebベースの2画面構成アプリケーションです。
- フロント画面（index.html）を患者向けに全画面表示し、操作画面（control.html）をスタッフがブラウザから別途操作します。
- さくらのレンタルサーバに設置し、PHPによるJSONの保存・更新を伴う構成です。

---

## 🔧 ファイル構成

```
mental-display/
├── index.html                # 患者向け表示（全画面）
├── control.html              # スタッフ操作画面
├── save_message.php          # 差し込みメッセージ保存API
├── save_status.php           # 診察順保存API
├── save_settings.php         # 表示設定保存API
├── data/
│   ├── tips.json             # TIPS一覧（編集可）
│   ├── message.json          # 差し込みメッセージ
│   ├── status.json           # 診察順番号など
│   └── settings.json         # 表示間隔・継続時間などの設定
├── assets/
│   ├── background.mp4        # 背景ループ動画
│   └── icons/                # アイコン素材（任意）
├── js/
│   ├── index.js              # 表示側ロジック
│   ├── control.js            # 操作側ロジック
│   └── common.js             # 通信・ユーティリティ共通部
├── css/
│   └── style.css             # 共通スタイル
├── .htaccess                 # control.htmlにパスワード制限
└── README.txt                # 使用説明書（運用手順含む）
```

---

## 🔍 主な機能

### index.html（患者向け）
- 背景にループ動画再生
- メンタルヘルスTIPSを順に表示（30件以上対応）
- 指定間隔ごとにリアルタイムメッセージを挿入表示（時間制御あり）
- 画面右下に診察順番（第1・第2診察室）をカード形式で常時表示（非表示も可）
- TIPSとメッセージ切り替えにアニメーション（フェード・スライド等）あり

### control.html（スタッフ用）
- 表示間隔・表示時間の調整（フォーム入力 + 保存）
- メッセージの編集・即反映
- 診察順表示の編集：
  - 第1診察室・第2診察室の番号入力／ラベル編集
  - 表示ON/OFFトグル
- PHPにPOSTしてJSONファイルを更新

